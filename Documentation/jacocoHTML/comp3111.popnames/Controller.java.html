<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Controller.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">PopNames3111</a> &gt; <a href="index.source.html" class="el_package">comp3111.popnames</a> &gt; <span class="el_source">Controller.java</span></div><h1>Controller.java</h1><pre class="source lang-java linenums">/**
 * Building on the sample skeleton for 'ui.fxml' COntroller Class generated by SceneBuilder 
 */
package comp3111.popnames;

import javafx.fxml.FXML;
import javafx.scene.control.*;
import javafx.scene.image.Image;
import javafx.scene.image.ImageView;

import javax.swing.*;

<span class="fc" id="L13">public class Controller {</span>

    @FXML
    private Tab tabTaskZero;

    @FXML
    private TextField textfieldNameF;

    @FXML
    private TextField textfieldYear;

    @FXML
    private Button buttonRankM;

    @FXML
    private TextField textfieldNameM;

    @FXML
    private Button buttonRankF;

    @FXML
    private Button buttonTopM;

    @FXML
    private Button buttonTopF;

    @FXML
    private Button buttonSummary;
    
    @FXML
    private Tab tabReport1;

    @FXML
    private ToggleGroup T1;

    @FXML
    private Tab tabReport2;
    
    @FXML
    private TextField textfieldYearStart;
    
    @FXML
    private TextField textfieldYearEnd;
    
    @FXML
    private TextField textfieldK;

    @FXML
    private TextField textfieldGender;
    
    @FXML
    private ToggleGroup T11;

    @FXML
    private Tab tabReport3;

    @FXML
    private ToggleGroup T111;

    @FXML
    private Tab tabApp1;

    @FXML
    private Tab tabApp2;

    @FXML
    private Tab tabApp3;

    @FXML
    private TextArea textAreaConsole;
    
    @FXML
    private ComboBox&lt;String&gt; comboboxGender;

    @FXML
    private Button help_buttonT2;

    @FXML
    private Button buttonSummaryT2;

    @FXML
    private Button buttonDataTableT2;

    @FXML
    private Button buttonBarChartT2;

    @FXML
    private Button buttonPieChartT2;

    @FXML
    private Button help_buttonT5;

    @FXML
    private Button help_buttonT5X1;

    @FXML
    private Button help_buttonT5X2;

    @FXML
    private Button buttonFindT5;

    @FXML
    private TextField textfieldNameT5;

    @FXML
    private TextField textfieldYearT5;

    @FXML
    private ComboBox&lt;String&gt; comboboxGenderT5;

    @FXML
    private ComboBox&lt;String&gt; comboboxPreferredGenderT5;

    @FXML
    private ToggleGroup age;

    @FXML
    private ToggleGroup algo;

    @FXML
    private RadioButton T5X2;

    @FXML
    private RadioButton T5X1;

    @FXML
    private RadioButton Younger;

    @FXML
    private RadioButton Older;

    @FXML
    private TextField textfieldNameItitialT5;

    @FXML
    private Slider consolefontslider;


    /**
     *  Task Zero
     *  To be triggered by the &quot;Summary&quot; button on the Task Zero Tab 
     *  
     */
    @FXML
    void doSummary() {
<span class="nc" id="L158">    	int year = Integer.parseInt(textfieldYear.getText());</span>
<span class="nc" id="L159">    	String oReport = AnalyzeNames.getSummary(year);</span>
<span class="nc" id="L160">    	textAreaConsole.setText(oReport);</span>
<span class="nc" id="L161">    }</span>

  
    /**
     *  Task Zero
     *  To be triggered by the &quot;Rank (female)&quot; button on the Task Zero Tab
     *  
     */
    @FXML
    void doRankF() {
<span class="fc" id="L171">    	String oReport = &quot;&quot;;</span>
<span class="fc" id="L172">    	String iNameF = textfieldNameF.getText();</span>
<span class="fc" id="L173">    	int iYear = Integer.parseInt(textfieldYear.getText());</span>
<span class="fc" id="L174">    	int oRank = AnalyzeNames.getRank(iYear, iNameF, &quot;F&quot;);</span>
<span class="pc bpc" id="L175" title="1 of 2 branches missed.">    	if (oRank == -1)</span>
<span class="nc" id="L176">    		oReport = String.format(&quot;The name %s (female) has not been ranked in the year %d.\n&quot;, iNameF, iYear);</span>
    	else
<span class="fc" id="L178">    		oReport = String.format(&quot;Rank of %s (female) in year %d is #%d.\n&quot;, iNameF, iYear, oRank);</span>
<span class="fc" id="L179">    	textAreaConsole.setText(oReport);</span>
<span class="fc" id="L180">    }</span>

  
    /**
     *  Task Zero
     *  To be triggered by the &quot;Rank (male)&quot; button on the Task Zero Tab
     *  
     */
    @FXML
    void doRankM() {
<span class="fc" id="L190">    	String oReport = &quot;&quot;;</span>
<span class="fc" id="L191">    	String iNameM = textfieldNameM.getText();</span>
<span class="fc" id="L192">    	int iYear = Integer.parseInt(textfieldYear.getText());</span>
<span class="fc" id="L193">    	int oRank = AnalyzeNames.getRank(iYear, iNameM, &quot;M&quot;);</span>
<span class="pc bpc" id="L194" title="1 of 2 branches missed.">    	if (oRank == -1)</span>
<span class="nc" id="L195">    		oReport = String.format(&quot;The name %s (male) has not been ranked in the year %d.\n&quot;, iNameM, iYear);</span>
    	else
<span class="fc" id="L197">    		oReport = String.format(&quot;Rank of %s (male) in year %d is #%d.\n&quot;, iNameM, iYear, oRank);</span>
<span class="fc" id="L198">    	textAreaConsole.setText(oReport);</span>
<span class="fc" id="L199">    }</span>


    /**
     *  Task Zero
     *  To be triggered by the &quot;Top 5 (female)&quot; button on the Task Zero Tab
     *  
     */
    @FXML
    void doTopF() {
<span class="nc" id="L209">    	String oReport = &quot;&quot;;</span>
<span class="nc" id="L210">    	final int topN = 5;</span>
<span class="nc" id="L211">    	int iYear = Integer.parseInt(textfieldYear.getText());</span>
<span class="nc" id="L212">    	oReport = String.format(&quot;Top %d most popular names (female) in the year %d:\n&quot;, topN, iYear);</span>
<span class="nc bnc" id="L213" title="All 2 branches missed.">    	for (int i=1; i&lt;=topN; i++)</span>
<span class="nc" id="L214">    		oReport += String.format(&quot;#%d: %s\n&quot;, i, AnalyzeNames.getName(iYear, i, &quot;F&quot;));</span>
<span class="nc" id="L215">    	textAreaConsole.setText(oReport);</span>
<span class="nc" id="L216">    }</span>


    /**
     *  Task Zero
     *  To be triggered by the &quot;Top 5 (male)&quot; button on the Task Zero Tab
     *  
     */
    @FXML
    void doTopM() {
<span class="nc" id="L226">    	String oReport = &quot;&quot;;</span>
<span class="nc" id="L227">    	final int topN = 5;</span>
<span class="nc" id="L228">    	int iYear = Integer.parseInt(textfieldYear.getText());</span>
<span class="nc" id="L229">    	oReport = String.format(&quot;Top %d most popular names (male) in the year %d:\n&quot;, topN, iYear);</span>
<span class="nc bnc" id="L230" title="All 2 branches missed.">    	for (int i=1; i&lt;=topN; i++)</span>
<span class="nc" id="L231">    		oReport += String.format(&quot;#%d: %s\n&quot;, i, AnalyzeNames.getName(iYear, i, &quot;M&quot;));</span>
<span class="nc" id="L232">    	textAreaConsole.setText(oReport);</span>
<span class="nc" id="L233">    }</span>



    /**
     * Displaying the warning message if some input are found to be empty.
     *
     * @author  Li Ho Yin
     */
    void Emptywarning(String error){
<span class="nc" id="L243">        JOptionPane.showMessageDialog(null,</span>
                &quot;Please enter a valid &quot; + error + &quot;! It is empty right now.&quot;,
                &quot;Input Error&quot;,
                JOptionPane.WARNING_MESSAGE);
<span class="nc" id="L247">    }</span>

    /**
     * Check every input in T2 to see if there are empty
     *
     * @author  Li Ho Yin
     */
    boolean checkEmptyT2(){
<span class="fc" id="L255">        boolean empty = false;</span>
<span class="pc bpc" id="L256" title="1 of 2 branches missed.">        if (textfieldYearStart.getText().equals(&quot;&quot;)){</span>
<span class="nc" id="L257">            Emptywarning(&quot;Starting Year&quot;);</span>
<span class="nc" id="L258">            empty = true;</span>
        }
<span class="pc bpc" id="L260" title="1 of 2 branches missed.">        if (textfieldYearEnd.getText().equals(&quot;&quot;)){</span>
<span class="nc" id="L261">            Emptywarning(&quot;Ending Year&quot;);</span>
<span class="nc" id="L262">            empty = true;</span>
        }
<span class="pc bpc" id="L264" title="1 of 2 branches missed.">        if (textfieldK.getText().equals(&quot;&quot;)){</span>
<span class="nc" id="L265">            Emptywarning(&quot;Rank K&quot;);</span>
<span class="nc" id="L266">            empty = true;</span>
        }
<span class="fc" id="L268">        return empty;</span>
    }

    /**
     * Task 2 - After the user clicked the summary button, send the inputted value to Task2.java to calculate the result.
     *
     * @author  Li Ho Yin
     */
    @FXML
    void doSummaryT2() {
<span class="fc" id="L278">    	String yearstartstring = textfieldYearStart.getText();</span>
<span class="fc" id="L279">    	String yearendstring = textfieldYearEnd.getText();</span>
<span class="fc" id="L280">    	String rankstring = textfieldK.getText();</span>
<span class="fc" id="L281">    	String gender = comboboxGender.getValue();</span>
<span class="fc" id="L282">    	String oReport = &quot;&quot;;</span>
<span class="pc bpc" id="L283" title="1 of 2 branches missed.">    	if (!checkEmptyT2()){</span>
<span class="fc" id="L284">    	    oReport = Task2.getSummaryT2(yearstartstring, yearendstring, rankstring, gender);</span>
        }
<span class="fc" id="L286">    	textAreaConsole.setText(oReport);</span>
<span class="fc" id="L287">        textAreaConsole.setEditable(false);</span>
<span class="fc" id="L288">    }</span>

    /**
     * Task 2 - After the user clicked the Result(Data Table) button, send the inputted value to Task2.java to calculate the result.
     *
     * @author  Li Ho Yin
     */
    @FXML
    void doDataTableT2() {
<span class="fc" id="L297">    	String yearstartstring = textfieldYearStart.getText();</span>
<span class="fc" id="L298">    	String yearendstring = textfieldYearEnd.getText();</span>
<span class="fc" id="L299">    	String rankstring = textfieldK.getText();</span>
<span class="fc" id="L300">        String gender = comboboxGender.getValue();</span>
<span class="fc" id="L301">        String oReport = &quot;&quot;;</span>
<span class="pc bpc" id="L302" title="1 of 2 branches missed.">        if (!checkEmptyT2()){</span>
<span class="fc" id="L303">            oReport = Task2.getDataTableT2(yearstartstring, yearendstring, rankstring, gender);</span>
        }
<span class="fc" id="L305">    	textAreaConsole.setText(oReport);</span>
<span class="fc" id="L306">        textAreaConsole.setEditable(false);</span>
<span class="fc" id="L307">    }</span>

    /**
     * Task 2 - After the user clicked the Result(Bar Chart) button, send the inputted value to Task2.java to calculate the result.
     *
     * @author  Li Ho Yin
     */
    @FXML
    void doBarChartT2() {
<span class="fc" id="L316">    	String yearstartstring = textfieldYearStart.getText();</span>
<span class="fc" id="L317">    	String yearendstring = textfieldYearEnd.getText();</span>
<span class="fc" id="L318">    	String rankstring = textfieldK.getText();</span>
<span class="fc" id="L319">        String gender = comboboxGender.getValue();</span>
<span class="fc" id="L320">        String oReport = &quot;&quot;;</span>
<span class="pc bpc" id="L321" title="1 of 2 branches missed.">        if (!checkEmptyT2()){</span>
<span class="fc" id="L322">            oReport = Task2.getBarChartT2(yearstartstring, yearendstring, rankstring, gender);</span>
        }
<span class="fc" id="L324">    	textAreaConsole.setText(oReport);</span>
<span class="fc" id="L325">        textAreaConsole.setEditable(false);</span>
<span class="fc" id="L326">    }</span>

    /**
     * Task 2 - After the user clicked the Result(Pie Chart) button, send the inputted value to Task2.java to calculate the result.
     *
     * @author  Li Ho Yin
     */
    @FXML
    void doPieChartT2() {
<span class="fc" id="L335">    	String yearstartstring = textfieldYearStart.getText();</span>
<span class="fc" id="L336">    	String yearendstring = textfieldYearEnd.getText();</span>
<span class="fc" id="L337">    	String rankstring = textfieldK.getText();</span>
<span class="fc" id="L338">        String gender = comboboxGender.getValue();</span>
<span class="fc" id="L339">        String oReport = &quot;&quot;;</span>
<span class="pc bpc" id="L340" title="1 of 2 branches missed.">        if (!checkEmptyT2()){</span>
<span class="fc" id="L341">            oReport = Task2.getPieChartT2(yearstartstring, yearendstring, rankstring, gender);</span>
        }
<span class="fc" id="L343">    	textAreaConsole.setText(oReport);</span>
<span class="fc" id="L344">        textAreaConsole.setEditable(false);</span>
<span class="fc" id="L345">    }</span>

    /**
     * Task 2 - After the user clicked the help button, display a help message about the function of Task 2.
     *
     * @author  Li Ho Yin
     */
    @FXML
    void displayHelpT2() {
<span class="nc" id="L354">        JOptionPane.showMessageDialog(null, &quot;Generate a report in response to the queries on the K-th popular names over a given period.&quot;,&quot;Help Message for T2&quot;,JOptionPane.INFORMATION_MESSAGE);</span>
<span class="nc" id="L355">    }</span>

    /**
     * Task 5 - After the user clicked the help button, display a help message about the function of Task 5.
     *
     * @author  Li Ho Yin
     */
    @FXML
    void displayHelpT5() {
<span class="nc" id="L364">        JOptionPane.showMessageDialog(null, &quot;Seeking advices on identifying the name of a person who would become your soulmate? \n Enter the following information and let's find your soulmate!&quot;,&quot;Help Message for T5&quot;,JOptionPane.INFORMATION_MESSAGE);</span>
<span class="nc" id="L365">    }</span>

    /**
     * Task 5 - After the user clicked the help button for Algorithm T5X1, display a help message about the function of algorithm T5X1.
     *
     * @author  Li Ho Yin
     */
    @FXML
    void displayHelpT5X1() {
<span class="nc" id="L374">        JOptionPane.showMessageDialog(null, &quot;An algorithm that compute the name of your potential soulmate which is equal to \n the most popular name in your preferred gender in your year of birth.&quot;,&quot;Help Message for Algorithm T5X1&quot;,JOptionPane.INFORMATION_MESSAGE);</span>
<span class="nc" id="L375">    }</span>

    /**
     * Task 5 - After the user clicked the help button for Algorithm T5X2, display a help message about the function of algorithm T5X2.
     *
     * @author  Li Ho Yin
     */
    @FXML
    void displayHelpT5X2() {
<span class="nc" id="L384">        JOptionPane.showMessageDialog(null, &quot;An algorithm that compute the name of your potential soulmate which is equal to \n most popular name in your preferred gender with your preferred initial (or the same initial as your initial if it is empty) \n from 1880 to your year of birth or from your year of birth to 2019 (determined by your preferred age).&quot;,&quot;Help Message for Algorithm T5X2&quot;,JOptionPane.INFORMATION_MESSAGE);</span>
<span class="nc" id="L385">    }</span>

    /**
     * Task 5 - After the Find your soulmate button is clicked, send the inputted value to Task5.java to compute the result.
     *
     * @author  Li Ho Yin
     */
    @FXML
    void doFindT5() {
<span class="fc" id="L394">        String name = textfieldNameT5.getText();</span>
<span class="fc" id="L395">        String year = textfieldYearT5.getText();</span>
<span class="fc" id="L396">        String gender = comboboxGenderT5.getValue();</span>
<span class="fc" id="L397">        String preferredGender = comboboxPreferredGenderT5.getValue();</span>
<span class="fc" id="L398">        String preferredInitial = textfieldNameItitialT5.getText();</span>
<span class="fc" id="L399">        String preferredAge = &quot;&quot;;</span>
<span class="fc" id="L400">        String Algo = &quot;&quot;;</span>
<span class="fc" id="L401">        String oReport = &quot;&quot;;</span>
<span class="pc bpc" id="L402" title="1 of 2 branches missed.">        if (Older.isSelected()){</span>
<span class="fc" id="L403">            preferredAge = &quot;Older&quot;;</span>
<span class="nc bnc" id="L404" title="All 2 branches missed.">        }else if (Younger.isSelected()){</span>
<span class="nc" id="L405">            preferredAge = &quot;Younger&quot;;</span>
        }
<span class="fc bfc" id="L407" title="All 2 branches covered.">        if (T5X1.isSelected()){</span>
<span class="fc" id="L408">            Algo = &quot;T5X1&quot;;</span>
<span class="pc bpc" id="L409" title="1 of 2 branches missed.">        }else if (T5X2.isSelected()){</span>
<span class="fc" id="L410">            Algo = &quot;T5X2&quot;;</span>
        }
<span class="fc" id="L412">        boolean empty = false;</span>
<span class="pc bpc" id="L413" title="1 of 2 branches missed.">        if (name.equals(&quot;&quot;)){</span>
<span class="nc" id="L414">            Emptywarning(&quot;Name&quot;);</span>
<span class="nc" id="L415">            empty = true;</span>
        }
<span class="pc bpc" id="L417" title="1 of 2 branches missed.">        if (year.equals(&quot;&quot;)){</span>
<span class="nc" id="L418">            Emptywarning(&quot;Year of Birth&quot;);</span>
<span class="nc" id="L419">            empty = true;</span>
        }
<span class="pc bpc" id="L421" title="1 of 2 branches missed.">        if (preferredAge.equals(&quot;&quot;)){</span>
<span class="nc" id="L422">            Emptywarning(&quot;Preferred Age&quot;);</span>
<span class="nc" id="L423">            empty = true;</span>
        }
<span class="pc bpc" id="L425" title="1 of 2 branches missed.">        if (Algo.equals(&quot;&quot;)){</span>
<span class="nc" id="L426">            Emptywarning(&quot;Algorithm&quot;);</span>
<span class="nc" id="L427">            empty = true;</span>
        }
<span class="pc bpc" id="L429" title="1 of 2 branches missed.">        if (!name.equals(&quot;&quot;)){</span>
<span class="fc" id="L430">            name = name.toLowerCase();</span>
<span class="fc" id="L431">            StringBuilder nameString = new StringBuilder(name);</span>
<span class="fc" id="L432">            nameString.setCharAt(0, Character.toUpperCase(name.charAt(0)));</span>
<span class="fc" id="L433">            name = nameString.toString();</span>
        }
<span class="fc bfc" id="L435" title="All 2 branches covered.">        if (preferredInitial.equals(&quot;&quot;)){</span>
<span class="pc bpc" id="L436" title="1 of 2 branches missed.">            if (!name.equals(&quot;&quot;)) {</span>
<span class="fc" id="L437">                preferredInitial = String.valueOf(name.charAt(0));</span>
            }
        }else{
<span class="fc" id="L440">            preferredInitial = preferredInitial.toUpperCase();</span>
        }
<span class="pc bpc" id="L442" title="1 of 2 branches missed.">        if (!empty){</span>
<span class="fc bfc" id="L443" title="All 2 branches covered.">            if (Algo.equals(&quot;T5X1&quot;)) {</span>
<span class="fc" id="L444">                oReport = Task5.doFindT5X1(name, year, gender, preferredInitial, preferredGender, preferredAge);</span>
<span class="pc bpc" id="L445" title="1 of 2 branches missed.">            }else if (Algo.equals(&quot;T5X2&quot;)){</span>
<span class="fc" id="L446">                oReport = Task5.doFindT5X2(name, year, gender, preferredInitial, preferredGender, preferredAge);</span>
            }
        }
        //System.out.println(Older.isSelected());
<span class="fc" id="L450">        textAreaConsole.setText(oReport);</span>
<span class="fc" id="L451">        textAreaConsole.setEditable(false);</span>
<span class="fc" id="L452">    }</span>

    /**
     * UI
     * A slider that allows the user to adjust the font size of the console.
     *
     * @author  Li Ho Yin
     */
    @FXML
    void doConsolefontChanged(){
<span class="nc" id="L462">        int size = (int) consolefontslider.getValue();</span>
<span class="nc" id="L463">        String style = &quot;-fx-font-size: &quot; + size;</span>
<span class="nc" id="L464">        textAreaConsole.setStyle(style);</span>
<span class="nc" id="L465">    }</span>


}

</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.6.202009150832</span></div></body></html>